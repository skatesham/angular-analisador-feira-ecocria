import{Fa as E,q as s,s as r,u as i}from"./chunk-6JC4TW2Y.js";import{Ic as f,Jc as u,Vb as b,X as h,a,b as l,db as m,eb as d,gb as c,sa as v}from"./chunk-XGBSE7XG.js";var S=(()=>{class t extends E{enterClass;leaveClass;root;rootMargin;threshold=.5;once=!1;observer;resetObserver;isObserverActive=!1;animationState;animationEndListener;onInit(){s(this.platformId)&&this.renderer.setStyle(this.el.nativeElement,"opacity",this.enterClass?"0":"")}onAfterViewInit(){s(this.platformId)&&this.bindIntersectionObserver()}get options(){return{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold||.5}}bindIntersectionObserver(){this.observer=new IntersectionObserver(([e])=>{this.isObserverActive?e.boundingClientRect.top>0&&(e.isIntersecting?this.enter():this.leave()):e.isIntersecting&&this.enter(),this.isObserverActive=!0},this.options),setTimeout(()=>this.observer?.observe(this.el.nativeElement),0),this.resetObserver=new IntersectionObserver(([e])=>{e.boundingClientRect.top>0&&!e.isIntersecting&&(this.el.nativeElement.style.opacity=this.enterClass?"0":"",i(this.el.nativeElement,[this.enterClass,this.leaveClass]),this.resetObserver.unobserve(this.el.nativeElement)),this.animationState=void 0},l(a({},this.options),{threshold:0}))}enter(){this.animationState!=="enter"&&this.enterClass&&(this.el.nativeElement.style.opacity="",i(this.el.nativeElement,this.leaveClass),r(this.el.nativeElement,this.enterClass),this.once&&this.unbindIntersectionObserver(),this.bindAnimationEvents(),this.animationState="enter")}leave(){this.animationState!=="leave"&&this.leaveClass&&(this.el.nativeElement.style.opacity=this.enterClass?"0":"",i(this.el.nativeElement,this.enterClass),r(this.el.nativeElement,this.leaveClass),this.bindAnimationEvents(),this.animationState="leave")}bindAnimationEvents(){this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.el.nativeElement,"animationend",()=>{i(this.el.nativeElement,[this.enterClass,this.leaveClass]),!this.once&&this.resetObserver.observe(this.el.nativeElement),this.unbindAnimationEvents()}))}unbindAnimationEvents(){this.animationEndListener&&(this.animationEndListener(),this.animationEndListener=null)}unbindIntersectionObserver(){this.observer?.unobserve(this.el.nativeElement),this.resetObserver?.unobserve(this.el.nativeElement),this.isObserverActive=!1}onDestroy(){this.unbindAnimationEvents(),this.unbindIntersectionObserver()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=v(t)))(o||t)}})();static \u0275dir=d({type:t,selectors:[["","pAnimateOnScroll",""]],hostVars:2,hostBindings:function(n,o){n&2&&b("p-animateonscroll",!0)},inputs:{enterClass:"enterClass",leaveClass:"leaveClass",root:"root",rootMargin:"rootMargin",threshold:[2,"threshold","threshold",u],once:[2,"once","once",f]},features:[c]})}return t})(),D=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=m({type:t});static \u0275inj=h({})}return t})();export{S as a,D as b};
